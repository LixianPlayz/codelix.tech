<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Biography • Journey</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="page journey-page">
  <nav class="nav">
    <div class="nav-left">
      <a class="brand" href="index.html" aria-label="Home">
        <svg viewBox="0 0 48 48" class="logo"><circle cx="24" cy="24" r="22" /></svg>
        <span class="brand-text">Lix Bio</span>
      </a>
    </div>
    <div class="nav-right">
      <a class="nav-link" href="index.html">Home</a>
      <a class="nav-link" href="about.html">About</a>
      <a class="nav-link active" href="journey.html">Journey</a>
    </div>
    <button class="nav-toggle" aria-label="Toggle menu">☰</button>
  </nav>

  <main class="container journey">
    <header class="page-head">
      <h2>Journey — A linear, interactive story</h2>
      <p class="lead">Click "Next" to reveal each step. This journey follows choices and answers exactly as provided.</p>
    </header>

    <section class="story-card" id="story">
      <div class="step" id="step-template" aria-hidden="true">
        <h3 class="step-title"></h3>
        <p class="step-body"></p>
        <div class="step-meta"></div>
      </div>

      <div id="step-container" class="step-container" aria-live="polite">
        <!-- Steps will be injected here -->
      </div>

      <div class="controls">
        <button id="prevBtn" class="btn" disabled>Prev</button>
        <button id="nextBtn" class="btn btn-primary glow">Next</button>
      </div>
    </section>

    <aside class="sidebar">
      <div class="panel">
        <h4>Quick Stats</h4>
        <ul>
          <li><strong>Start:</strong> Soddy Daisy, TN</li>
          <li><strong>Superpower:</strong> Teleportation</li>
          <li><strong>Ultimate Goal:</strong> Lead people to Jesus</li>
          <li><strong>Companion:</strong> Normal guinea pig</li>
        </ul>
      </div>

      <div class="panel small">
        <h4>Soundtrack</h4>
        <p>Gospel music — steady, grounding.</p>
      </div>
    </aside>
  </main>

  <footer class="footer">
    <small><a href="index.html">Home</a> • <a href="about.html">About</a> • © <span id="year3"></span></small>
  </footer>

  <script>
    document.getElementById('year3').textContent = new Date().getFullYear();

    // The exact ordered steps provided by the user:
    const steps = [
      { title: "Beginning", body: "Journey begins in Soddy Daisy, TN.", meta: "Location" },
      { title: "First big decision", body: "Getting saved.", meta: "Decision" },
      { title: "Motivation", body: "Curiosity.", meta: "Why" },
      { title: "Favorite childhood activity", body: "Video games.", meta: "Memory" },
      { title: "First sidekick", body: "My Mom.", meta: "Ally" },
      { title: "First big challenge", body: "Making new friends.", meta: "Challenge" },
      { title: "Special skill", body: "Visualizing custom designs or structures.", meta: "Skill" },
      { title: "Mysterious item", body: "N/A", meta: "Item" },
      { title: "Dream superpower", body: "Teleportation.", meta: "Superpower" },
      { title: "Music powering the journey", body: "Gospel music.", meta: "Soundtrack" },
      { title: "Befriended animal", body: "Normal guinea pig.", meta: "Friend" },
      { title: "Adventure location", body: "N/A", meta: "Location" },
      { title: "Favorite subject", body: "Science.", meta: "Study" },
      { title: "First rival", body: "Classmate.", meta: "Rival" },
      { title: "How setbacks are handled", body: "Ask for help.", meta: "Response" },
      { title: "Collectible", body: "Money.", meta: "Collectible" },
      { title: "Vehicle", body: "Car.", meta: "Transport" },
      { title: "Ultimate goal", body: "Lead people to Jesus.", meta: "Purpose" },
      { title: "Snack", body: "Candy.", meta: "Snack" },
      { title: "Mentor", body: "Youth Pastor.", meta: "Guide" },
      { title: "Obstacle", body: "Exams.", meta: "Obstacle" },
      { title: "Inspiration", body: "Family.", meta: "Inspiration" },
      { title: "Victory celebration", body: "Quiet reflection.", meta: "Victory" },
      { title: "Final boss", body: "Time.", meta: "Enemy" },
      { title: "Ending", body: "Peaceful life.", meta: "Ending" }
    ];

    const container = document.getElementById('step-container');
    let index = -1;
    const createdSteps = [];

    function createStepElement(stepData, idx) {
      const el = document.createElement('article');
      el.className = 'step reveal';
      el.dataset.index = idx;

      const title = document.createElement('h3');
      title.className = 'step-title';
      title.textContent = stepData.title;

      const body = document.createElement('p');
      body.className = 'step-body';
      body.textContent = stepData.body;

      const meta = document.createElement('div');
      meta.className = 'step-meta';
      meta.innerHTML = `<span class="badge">${stepData.meta}</span>`;

      // subtle decorative icon
      const icon = document.createElementNS('http://www.w3.org/2000/svg','svg');
      icon.setAttribute('viewBox','0 0 24 24');
      icon.classList.add('tiny-icon');
      icon.innerHTML = '<path d="M12 2 L15 9 L22 10 L17 14 L18 21 L12 18 L6 21 L7 14 L2 10 L9 9 Z"/>';

      el.appendChild(icon);
      el.appendChild(title);
      el.appendChild(body);
      el.appendChild(meta);

      // small interactive hint: pulse the badge briefly when revealed
      el.addEventListener('animationend', () => {
        const b = el.querySelector('.badge');
        if (b) b.classList.add('pulse');
      }, { once: true });

      return el;
    }

    function showNext() {
      if (index < steps.length - 1) {
        index++;
        const stepEl = createStepElement(steps[index], index);
        container.appendChild(stepEl);
        // scroll into view smoothly
        stepEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
        createdSteps.push(stepEl);
        updateButtons();
      }
    }

    function showPrev() {
      if (index > 0) {
        // remove last step with exit animation
        const last = createdSteps.pop();
        last.classList.add('fade-out');
        last.addEventListener('animationend', () => last.remove(), { once: true });
        index--;
        updateButtons();
      }
    }

    function updateButtons() {
      document.getElementById('prevBtn').disabled = index <= -1;
      const nextBtn = document.getElementById('nextBtn');
      if (index >= steps.length - 1) {
        nextBtn.textContent = 'Finish';
        nextBtn.classList.remove('glow');
      } else {
        nextBtn.textContent = 'Next';
        nextBtn.classList.add('glow');
      }
    }

    // Add small interactive "choice" micro-interaction on some steps
    container.addEventListener('click', (e) => {
      const step = e.target.closest('.step');
      if (!step) return;
      // toggle a tiny reaction on click
      step.classList.toggle('clicked');
    });

    document.getElementById('nextBtn').addEventListener('click', () => {
      if (index === steps.length - 1) {
        // final micro-celebration
        const end = document.createElement('div');
        end.className = 'ending reveal big';
        end.innerHTML = '<h3>Ending: Peaceful life</h3><p>Journey complete — a life oriented by faith, family, and quiet reflection.</p>';
        container.appendChild(end);
        end.scrollIntoView({ behavior: 'smooth', block: 'center' });
        document.getElementById('nextBtn').disabled = true;
        document.getElementById('prevBtn').disabled = false;
      } else {
        showNext();
      }
    });
    document.getElementById('prevBtn').addEventListener('click', showPrev);

    // Start with the first step queued (but not automatically revealed) — user clicks Next
    updateButtons();

    // small keyboard support
    window.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') document.getElementById('nextBtn').click();
      if (e.key === 'ArrowLeft') document.getElementById('prevBtn').click();
    });

    // Nav toggle for small screens
    document.querySelector('.nav-toggle').addEventListener('click', () => {
      document.body.classList.toggle('nav-open');
    });
  </script>
</body>
</html>
